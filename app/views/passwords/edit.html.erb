<div class="min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900">
  <div class="w-full max-w-md bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8">

    <% if flash[:notice] %>
      <div class="mb-4 p-3 bg-green-100 text-green-800 rounded-lg">
        <%= flash[:notice] %>
      </div>
    <% elsif flash[:alert] %>
      <div class="mb-4 p-3 bg-red-100 text-red-800 rounded-lg">
        <%= flash[:alert] %>
      </div>
    <% end %>

    <% if @user.force_password_reset %>
      <h1 class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">Security Notice</h1>
      <p class="mb-6 text-gray-700 dark:text-gray-300">
        Your account requires a password reset due to a potential security issue.
      </p>
    <% end %>

    <%= form_with model: @user, url: update_password_path, method: :patch, local: true do |f| %>
      <div class="mb-4">
        <%= f.label :password, "New password", class: "block text-gray-700 dark:text-gray-300 mb-2" %>
        <%= f.password_field :password, class: "w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" %>
      </div>

      <div class="mb-4">
        <%= f.label :password_confirmation, "Confirm new password", class: "block text-gray-700 dark:text-gray-300 mb-2" %>
        <%= f.password_field :password_confirmation, class: "w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" %>
      </div>

      <%= f.submit "Update password", class: "w-full py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition" %>
    <% end %>

  </div>
</div>
