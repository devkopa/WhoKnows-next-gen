<nav class="bg-gray-50 dark:bg-gray-900">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16 items-center">
      
      <!-- Left: Brand + Links -->
      <div class="flex items-center space-x-4">
        <a href="<%= root_path %>" class="text-xl font-bold">Â¿WhoKnows?</a>

        <% if session[:user_id].present? %>
          <%= link_to 'Logout', logout_path, class: "py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 transition" %>
          <%= link_to 'Weather', weather_path, class: "py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 transition" %>
        <% else %>
          <%= link_to 'Login', login_path, class: "py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition" %>
          <%= link_to 'Register', register_path, class: "py-2 px-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition" %>
          <%= link_to 'Weather', weather_path, class: "py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 transition" %>
        <% end %>
      </div>

      <!-- Right: Search Form -->
      <div class="flex-shrink-0 ml-4">
        <%= form_with url: api_search_path, method: :get, local: true do |form| %>
          <div class="flex">
            <input type="text" name="q" placeholder="Search..." 
              class="border border-gray-300 rounded-l-md px-3 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500">
            <button type="submit"
              class="py-2 px-4 bg-blue-600 text-white rounded-r-lg hover:bg-blue-700 transition">
              Search
            </button>
          </div>
        <% end %>
      </div>

    </div>
  </div>
</nav>